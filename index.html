<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Bren</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
:root {
    --bg: #f6f1ec;
    --card: #ffffff;
    --accent: #c89b8c;
    --soft: #efe6df;
    --text: #3a3a3a;
}

* { box-sizing: border-box; }

body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: 'Inter', sans-serif;
    background: linear-gradient(180deg, #f6f1ec, #f2ebe5);
    color: var(--text);
}

.wrapper {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.card {
    width: 92%;
    max-width: 520px;
    max-height: 70vh;
    background: var(--card);
    padding: 32px;
    box-shadow: 0 16px 36px rgba(0,0,0,0.08);
    border-radius: 16px;
    display: flex;
    flex-direction: column;
}

/* PROGRESS */
.progress {
    height: 3px;
    background: var(--soft);
    border-radius: 2px;
    overflow: hidden;
    margin-bottom: 18px;
    display: none;
}
.progress span {
    height: 100%;
    display: block;
    width: 0%;
    background: var(--accent);
    transition: width 0.4s ease;
}

/* FLOWCHART */
.diagram {
    text-align: center;
    margin: auto 0;
}
.diagram img {
    width: 100%;
    border-radius: 12px;
    margin-bottom: 24px;
}

/* TEXT */
.text {
    display: none;
    flex: 1;
    overflow-y: auto;
}
.text.active { display: block; }

h1 {
    font-family: 'Playfair Display', serif;
    margin-bottom: 16px;
}

p {
    line-height: 1.8;
    margin-bottom: 18px;
}

.highlight {
    color: var(--accent);
}

/* BUTTONS */
.button {
    padding: 10px 22px;
    border-radius: 22px;
    border: none;
    background: var(--accent);
    color: white;
    font-size: 0.8rem;
    cursor: pointer;
}
.button.secondary {
    background: transparent;
    color: var(--accent);
    border: 1px solid var(--accent);
}

/* NAV */
.nav {
    display: none;
    margin-top: 18px;
    display: flex;
    justify-content: space-between;
    gap: 10px;
}
.nav button {
    flex: 1;
}
</style>
</head>

<body>

<div class="wrapper">
<div class="card">

<div class="progress" id="progress">
    <span id="bar"></span>
</div>

<div class="diagram" id="diagram">
    <img src="images/diagram.png">
    <button class="button" onclick="start()">Open Letter</button>
</div>

<div class="text" id="text">
    <div id="content"></div>
</div>

<div class="nav" id="nav">
    <button class="button secondary" onclick="prev()">◀ Prev</button>
    <button class="button secondary" onclick="home()">Back to Beginning</button>
    <button class="button secondary" onclick="next()">Next ▶</button>
</div>

</div>
</div>

<script>
const pages = [
`<h1>Hi, Bren.</h1>
<p>I want to be completely honest with you so everything is clear and I can stop overthinking this.</p>`,

`<p>
The truth is, all the effort and attention I’ve given you lately is because 
<span class="highlight">my feelings and interest in you haven't changed.</span> 
I’m actually interested.
</p>`,

`<p>
But I want to do this in whatever way makes you feel most comfortable. 
I want us to keep it chill, no rush, because 
<span class="highlight">your comfort is my top priority.</span>
</p>`,

`<p>
I just want to be open with you—is there a window of opportunity, or is that door already closed? 
If the answer is 'no,' I’m honestly okay with that and I’d really appreciate your honesty.
</p>`,

`<p>
If the answer is 'yes,' I’ll simply adjust to your pace. 
I’m not asking to be in a relationship right now—I just want your permission to get to know you better.
</p>`,

`<p>
You don’t have to answer me right now. 
Take all the time you need, Bren.
</p>`,

`<p>— Jonathan</p>`
];

let i = 0;
let startX = 0;

function update() {
    content.innerHTML = pages[i];
    bar.style.width = ((i + 1) / pages.length) * 100 + '%';
    text.scrollTop = 0;
}

function start() {
    diagram.style.display = 'none';
    text.classList.add('active');
    progress.style.display = 'block';
    nav.style.display = 'flex';
    i = 0;
    update();
}

function next() {
    if (i < pages.length - 1) { i++; update(); }
}
function prev() {
    if (i > 0) { i--; update(); }
}
function home() {
    diagram.style.display = 'block';
    text.classList.remove('active');
    progress.style.display = 'none';
    nav.style.display = 'none';
    bar.style.width = '0%';
}

/* PC scroll */
text.addEventListener('wheel', e => {
    if (Math.abs(e.deltaY) > 40) {
        e.deltaY > 0 ? next() : prev();
    }
});

/* MOBILE swipe left/right */
text.addEventListener('touchstart', e => {
    startX = e.touches[0].clientX;
});
text.addEventListener('touchend', e => {
    const diff = startX - e.changedTouches[0].clientX;
    if (Math.abs(diff) > 50) {
        diff > 0 ? next() : prev();
    }
});
</script>

</body>
</html>
